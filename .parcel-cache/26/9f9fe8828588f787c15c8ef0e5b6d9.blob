var $a2a31a0f3adfdb63d08d3d428758$exports = {};
$parcel$require("2794a2a31a0f3adfdb63d08d3d428758", "d3-array");
$parcel$require("2794a2a31a0f3adfdb63d08d3d428758", "./init");
$parcel$require("2794a2a31a0f3adfdb63d08d3d428758", "./ordinal");

function $a2a31a0f3adfdb63d08d3d428758$export$default() {
  var scale = $a2a31a0f3adfdb63d08d3d428758$import$ordinal().unknown(undefined),
      domain = scale.domain,
      ordinalRange = scale.range,
      range = [0, 1],
      step,
      bandwidth,
      round = false,
      paddingInner = 0,
      paddingOuter = 0,
      align = 0.5;
  delete scale.unknown;

  function rescale() {
    var n = domain().length,
        reverse = range[1] < range[0],
        start = range[reverse - 0],
        stop = range[1 - reverse];
    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);
    if (round) step = Math.floor(step);
    start += (stop - start - step * (n - paddingInner)) * align;
    bandwidth = step * (1 - paddingInner);
    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);
    var values = $a2a31a0f3adfdb63d08d3d428758$import$sequence(n).map(function (i) {
      return start + step * i;
    });
    return ordinalRange(reverse ? values.reverse() : values);
  }

  scale.domain = function (_) {
    return arguments.length ? (domain(_), rescale()) : domain();
  };

  scale.range = function (_) {
    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();
  };

  scale.rangeRound = function (_) {
    return range = [+_[0], +_[1]], round = true, rescale();
  };

  scale.bandwidth = function () {
    return bandwidth;
  };

  scale.step = function () {
    return step;
  };

  scale.round = function (_) {
    return arguments.length ? (round = !!_, rescale()) : round;
  };

  scale.padding = function (_) {
    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;
  };

  scale.paddingInner = function (_) {
    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;
  };

  scale.paddingOuter = function (_) {
    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;
  };

  scale.align = function (_) {
    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;
  };

  scale.copy = function () {
    return $a2a31a0f3adfdb63d08d3d428758$export$default(domain(), range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);
  };

  return $a2a31a0f3adfdb63d08d3d428758$import$initRange.apply(rescale(), arguments);
}

$a2a31a0f3adfdb63d08d3d428758$exports.default = $a2a31a0f3adfdb63d08d3d428758$export$default;

function $a2a31a0f3adfdb63d08d3d428758$var$pointish(scale) {
  var copy = scale.copy;
  scale.padding = scale.paddingOuter;
  delete scale.paddingInner;
  delete scale.paddingOuter;

  scale.copy = function () {
    return $a2a31a0f3adfdb63d08d3d428758$var$pointish(copy());
  };

  return scale;
}

function $a2a31a0f3adfdb63d08d3d428758$export$point() {
  return $a2a31a0f3adfdb63d08d3d428758$var$pointish($a2a31a0f3adfdb63d08d3d428758$export$default.apply(null, arguments).paddingInner(1));
}

$a2a31a0f3adfdb63d08d3d428758$exports.point = $a2a31a0f3adfdb63d08d3d428758$export$point;
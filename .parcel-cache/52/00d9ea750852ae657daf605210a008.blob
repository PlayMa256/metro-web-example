var $fbe9745e3168ea225cf68d714ed20e35$exports = {};
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "@babel/runtime/helpers/esm/extends");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "@babel/runtime/helpers/esm/objectWithoutProperties");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "react");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "prop-types");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "react-dom");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "../utils/debounce");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "react-transition-group");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "@material-ui/utils");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "../utils/useForkRef");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "../styles/useTheme");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "../styles/transitions");
$parcel$require("fbe9745e3168ea225cf68d714ed20e35", "../transitions/utils");

// Translate the node so he can't be seen on the screen.
// Later, we gonna translate back the node to his original location
// with `none`.`
function $fbe9745e3168ea225cf68d714ed20e35$var$getTranslateValue(direction, node) {
  var rect = node.getBoundingClientRect();
  var transform;

  if (node.fakeTransform) {
    transform = node.fakeTransform;
  } else {
    var computedStyle = window.getComputedStyle(node);
    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');
  }

  var offsetX = 0;
  var offsetY = 0;

  if (transform && transform !== 'none' && typeof transform === 'string') {
    var transformValues = transform.split('(')[1].split(')')[0].split(',');
    offsetX = parseInt(transformValues[4], 10);
    offsetY = parseInt(transformValues[5], 10);
  }

  if (direction === 'left') {
    return "translateX(".concat(window.innerWidth, "px) translateX(-").concat(rect.left - offsetX, "px)");
  }

  if (direction === 'right') {
    return "translateX(-".concat(rect.left + rect.width - offsetX, "px)");
  }

  if (direction === 'up') {
    return "translateY(".concat(window.innerHeight, "px) translateY(-").concat(rect.top - offsetY, "px)");
  } // direction === 'down'


  return "translateY(-".concat(rect.top + rect.height - offsetY, "px)");
}

function $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue(direction, node) {
  var transform = $fbe9745e3168ea225cf68d714ed20e35$var$getTranslateValue(direction, node);

  if (transform) {
    node.style.webkitTransform = transform;
    node.style.transform = transform;
  }
}

$fbe9745e3168ea225cf68d714ed20e35$exports.setTranslateValue = $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue;
var $fbe9745e3168ea225cf68d714ed20e35$var$defaultTimeout = {
  enter: $fbe9745e3168ea225cf68d714ed20e35$import$duration.enteringScreen,
  exit: $fbe9745e3168ea225cf68d714ed20e35$import$duration.leavingScreen
};
/**
 * The Slide transition is used by the [Drawer](/components/drawers/) component.
 * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.
 */

var $fbe9745e3168ea225cf68d714ed20e35$export$default = $fbe9745e3168ea225cf68d714ed20e35$import$React.forwardRef(function Slide(props, ref) {
  var children = props.children,
      _props$direction = props.direction,
      direction = _props$direction === void 0 ? 'down' : _props$direction,
      inProp = props.in,
      onEnter = props.onEnter,
      onEntering = props.onEntering,
      onExit = props.onExit,
      onExited = props.onExited,
      style = props.style,
      _props$timeout = props.timeout,
      timeout = _props$timeout === void 0 ? $fbe9745e3168ea225cf68d714ed20e35$var$defaultTimeout : _props$timeout,
      other = $fbe9745e3168ea225cf68d714ed20e35$import$_objectWithoutProperties(props, ["children", "direction", "in", "onEnter", "onEntering", "onExit", "onExited", "style", "timeout"]);
  var theme = $fbe9745e3168ea225cf68d714ed20e35$import$useTheme();
  var childrenRef = $fbe9745e3168ea225cf68d714ed20e35$import$React.useRef(null);
  /**
   * used in cloneElement(children, { ref: handleRef })
   */

  var handleOwnRef = $fbe9745e3168ea225cf68d714ed20e35$import$React.useCallback(function (instance) {
    // #StrictMode ready
    childrenRef.current = $fbe9745e3168ea225cf68d714ed20e35$import$ReactDOM.findDOMNode(instance);
  }, []);
  var handleRefIntermediary = $fbe9745e3168ea225cf68d714ed20e35$import$useForkRef(children.ref, handleOwnRef);
  var handleRef = $fbe9745e3168ea225cf68d714ed20e35$import$useForkRef(handleRefIntermediary, ref);

  var handleEnter = function handleEnter(_, isAppearing) {
    var node = childrenRef.current;
    $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue(direction, node);
    $fbe9745e3168ea225cf68d714ed20e35$import$reflow(node);

    if (onEnter) {
      onEnter(node, isAppearing);
    }
  };

  var handleEntering = function handleEntering(_, isAppearing) {
    var node = childrenRef.current;
    var transitionProps = $fbe9745e3168ea225cf68d714ed20e35$import$getTransitionProps({
      timeout: timeout,
      style: style
    }, {
      mode: 'enter'
    });
    node.style.webkitTransition = theme.transitions.create('-webkit-transform', $fbe9745e3168ea225cf68d714ed20e35$import$_extends({}, transitionProps, {
      easing: theme.transitions.easing.easeOut
    }));
    node.style.transition = theme.transitions.create('transform', $fbe9745e3168ea225cf68d714ed20e35$import$_extends({}, transitionProps, {
      easing: theme.transitions.easing.easeOut
    }));
    node.style.webkitTransform = 'none';
    node.style.transform = 'none';

    if (onEntering) {
      onEntering(node, isAppearing);
    }
  };

  var handleExit = function handleExit() {
    var node = childrenRef.current;
    var transitionProps = $fbe9745e3168ea225cf68d714ed20e35$import$getTransitionProps({
      timeout: timeout,
      style: style
    }, {
      mode: 'exit'
    });
    node.style.webkitTransition = theme.transitions.create('-webkit-transform', $fbe9745e3168ea225cf68d714ed20e35$import$_extends({}, transitionProps, {
      easing: theme.transitions.easing.sharp
    }));
    node.style.transition = theme.transitions.create('transform', $fbe9745e3168ea225cf68d714ed20e35$import$_extends({}, transitionProps, {
      easing: theme.transitions.easing.sharp
    }));
    $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue(direction, node);

    if (onExit) {
      onExit(node);
    }
  };

  var handleExited = function handleExited() {
    var node = childrenRef.current; // No need for transitions when the component is hidden

    node.style.webkitTransition = '';
    node.style.transition = '';

    if (onExited) {
      onExited(node);
    }
  };

  var updatePosition = $fbe9745e3168ea225cf68d714ed20e35$import$React.useCallback(function () {
    if (childrenRef.current) {
      $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue(direction, childrenRef.current);
    }
  }, [direction]);
  $fbe9745e3168ea225cf68d714ed20e35$import$React.useEffect(function () {
    // Skip configuration where the position is screen size invariant.
    if (!inProp && direction !== 'down' && direction !== 'right') {
      var handleResize = $fbe9745e3168ea225cf68d714ed20e35$import$debounce(function () {
        if (childrenRef.current) {
          $fbe9745e3168ea225cf68d714ed20e35$export$setTranslateValue(direction, childrenRef.current);
        }
      });
      window.addEventListener('resize', handleResize);
      return function () {
        handleResize.clear();
        window.removeEventListener('resize', handleResize);
      };
    }

    return undefined;
  }, [direction, inProp]);
  $fbe9745e3168ea225cf68d714ed20e35$import$React.useEffect(function () {
    if (!inProp) {
      // We need to update the position of the drawer when the direction change and
      // when it's hidden.
      updatePosition();
    }
  }, [inProp, updatePosition]);
  return $fbe9745e3168ea225cf68d714ed20e35$import$React.createElement($fbe9745e3168ea225cf68d714ed20e35$import$Transition, $fbe9745e3168ea225cf68d714ed20e35$import$_extends({
    onEnter: handleEnter,
    onEntering: handleEntering,
    onExit: handleExit,
    onExited: handleExited,
    appear: true,
    in: inProp,
    timeout: timeout
  }, other), function (state, childProps) {
    return $fbe9745e3168ea225cf68d714ed20e35$import$React.cloneElement(children, $fbe9745e3168ea225cf68d714ed20e35$import$_extends({
      ref: handleRef,
      style: $fbe9745e3168ea225cf68d714ed20e35$import$_extends({
        visibility: state === 'exited' && !inProp ? 'hidden' : undefined
      }, style, {}, children.props.style)
    }, childProps));
  });
});
"production" !== "production" ? $fbe9745e3168ea225cf68d714ed20e35$export$default.propTypes = {
  /**
   * A single child content element.
   */
  children: $fbe9745e3168ea225cf68d714ed20e35$import$elementAcceptingRef,

  /**
   * Direction the child node will enter from.
   */
  direction: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.oneOf(['left', 'right', 'up', 'down']),

  /**
   * If `true`, show the component; triggers the enter or exit animation.
   */
  in: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.bool,

  /**
   * @ignore
   */
  onEnter: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.func,

  /**
   * @ignore
   */
  onEntering: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.func,

  /**
   * @ignore
   */
  onExit: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.func,

  /**
   * @ignore
   */
  onExited: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.func,

  /**
   * @ignore
   */
  style: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.object,

  /**
   * The duration for the transition, in milliseconds.
   * You may specify a single timeout for all transitions, or individually with an object.
   */
  timeout: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.oneOfType([$fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.number, $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.shape({
    enter: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.number,
    exit: $fbe9745e3168ea225cf68d714ed20e35$import$PropTypes.number
  })])
} : void 0;
$fbe9745e3168ea225cf68d714ed20e35$exports.default = $fbe9745e3168ea225cf68d714ed20e35$export$default;
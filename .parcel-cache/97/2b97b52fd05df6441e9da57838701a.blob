var $aa71a0a31ea0180da26c7997010bfc79$exports = {};
$aa71a0a31ea0180da26c7997010bfc79$exports = $aa71a0a31ea0180da26c7997010bfc79$var$balanced;

function $aa71a0a31ea0180da26c7997010bfc79$var$balanced(a, b, str) {
  if (a instanceof RegExp) a = $aa71a0a31ea0180da26c7997010bfc79$var$maybeMatch(a, str);
  if (b instanceof RegExp) b = $aa71a0a31ea0180da26c7997010bfc79$var$maybeMatch(b, str);
  var r = $aa71a0a31ea0180da26c7997010bfc79$var$range(a, b, str);
  return r && {
    start: r[0],
    end: r[1],
    pre: str.slice(0, r[0]),
    body: str.slice(r[0] + a.length, r[1]),
    post: str.slice(r[1] + b.length)
  };
}

function $aa71a0a31ea0180da26c7997010bfc79$var$maybeMatch(reg, str) {
  var m = str.match(reg);
  return m ? m[0] : null;
}

$aa71a0a31ea0180da26c7997010bfc79$var$balanced.range = $aa71a0a31ea0180da26c7997010bfc79$var$range;

function $aa71a0a31ea0180da26c7997010bfc79$var$range(a, b, str) {
  var begs, beg, left, right, result;
  var ai = str.indexOf(a);
  var bi = str.indexOf(b, ai + 1);
  var i = ai;

  if (ai >= 0 && bi > 0) {
    begs = [];
    left = str.length;

    while (i >= 0 && !result) {
      if (i == ai) {
        begs.push(i);
        ai = str.indexOf(a, i + 1);
      } else if (begs.length == 1) {
        result = [begs.pop(), bi];
      } else {
        beg = begs.pop();

        if (beg < left) {
          left = beg;
          right = bi;
        }

        bi = str.indexOf(b, i + 1);
      }

      i = ai < bi && ai >= 0 ? ai : bi;
    }

    if (begs.length) {
      result = [left, right];
    }
  }

  return result;
}